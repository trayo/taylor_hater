<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="javascripts/mousetrap.min.js"></script>
    <script type="text/javascript" src="javascripts/ion-sound/js/ion.sound.js"></script>
    <link href="stylesheets/main.css" rel="stylesheet">
  </head>
  <body>
    <script>

      ion.sound({
        sounds: [
          {
            name: "shakeitoff",
            volume: 0.4,
            sprite: {
              "haters": [45.14, 0.36],
              "gonna": [45.55, 0.3],
              "hate1": [45.85, 0.35],
              "hate2": [46.20, 0.35],
              "hate3": [46.58, 0.4],
              "hate4": [47.10, 0.25],
              "hate5": [47.35, 0.79],
              "shake": [48.15, 2.8],
              "shakeitoff": [51, 2],
            },
          },
        ],

        path: "sounds/",
        preload: true,
        multiplay: true,
      });

      var plays = 1;

      Mousetrap.bind("f", function(e) {
        ion.sound.stop("shakeitoff");
        ion.sound.play("shakeitoff", { part: "haters" });
        plays = 1;
      });

      Mousetrap.bind("g", function(e) {
        ion.sound.stop("shakeitoff");
        ion.sound.play("shakeitoff", { part: "gonna" });
        plays = 1;
      });

      Mousetrap.bind("h", function(e) {
        ion.sound.stop("shakeitoff");
        ion.sound.play("shakeitoff", { part: "hate" + plays });
        plays = plays === 5 ? 1 : ++plays;
      });

      Mousetrap.bind("j", function(e) {
        ion.sound.stop("shakeitoff");
        ion.sound.play("shakeitoff", { part: "shake" });
        plays = 1;
      });

      Mousetrap.bind("k", function(e) {
        ion.sound.stop("shakeitoff");
        ion.sound.play("shakeitoff", { part: "shakeitoff" });
        plays = 1;
      });

      Mousetrap.bind("s", function(e) {
        ion.sound.stop("shakeitoff");
      });

      function play(key) {
        Mousetrap.trigger(key);
      }
    </script>

    <div class="center">
      <button class="button" id="haters" onclick="play('f')">HATERS (F)</button>
      <button class="button" id="gonna" onclick="play('g')">GONNA (G)</button>
      <button class="button" id="hate" onclick="play('h')">HATE (H x 5)</button>
      <button class="button" id="shake" onclick="play('j')">I'M JUST GONNA SHAKE (J)</button>
      <button class="button" id="shakeitoff" onclick="play('k')">SHAKE IT OFF (K)</button>
    </div>
  </body>
</html>
